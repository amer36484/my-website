<!DOCTYPE html>
<html>
  <head>
    <title>JavaScript DOM Practice - All Lesson 09 Projects</title>
  </head>
  <body>
  <h1>JavaScript DOM Practice - All Lesson 09 Projects</h1>
  <!-- 9a: Log button -->
    <button id="log-btn">9a</button>
    <script>
      console.log(document.querySelector('#log-btn'));
    </script>

    <!-- 9b: Change button innerHTML -->
    <button class="js-button">9b</button>
    <script>
      document.querySelector('.js-button').innerHTML = '9b done!';
    </script>

    <!-- 9c: Heads/Tails choice -->
    <button onclick="document.querySelector('.js-choice').innerHTML = 'You chose: heads';">heads</button>
    <button onclick="document.querySelector('.js-choice').innerHTML = 'You chose: tails';">tails</button>
    <p class="js-choice"></p>

    <!-- 9d/9e/9f: Name input and submit (with Enter key support and function) -->
    <input placeholder="Name" class="js-name-input" onkeydown="if (event.key === 'Enter') displayMessage();">
    <button onclick="displayMessage();">Submit</button>
    <p class="js-message"></p>
    <script>
      function displayMessage() {
        const inputElement = document.querySelector('.js-name-input');
        document.querySelector('.js-message').innerHTML = `Your name is: ${inputElement.value}`;
      }
    </script>

    <!-- 9g: Amazon Shipping Calculator -->
    <p>Amazon Shipping Calculator</p>
    <input placeholder="Cost of order" class="js-cost-input" onkeydown="handleCostKeydown(event);">
    <button onclick="calculateTotal();">Calculate</button>
    <p class="js-total-cost"></p>
    <script>
      function handleCostKeydown(event) {
        if (event.key === 'Enter') {
          calculateTotal();
        }
      }
      function calculateTotal() {
        const inputElement = document.querySelector('.js-cost-input');
        let cost = Number(inputElement.value) * 100;
        if (cost < 4000) {
          cost = cost + 1000;
        }
        document.querySelector('.js-total-cost').innerHTML = `$${cost / 100}`;
      }
    </script>

    <!-- 9h: Live input message -->
    <input placeholder="Type something" class="js-input" onkeyup="const inputElement = document.querySelector('.js-input'); document.querySelector('.js-message-live').innerHTML = inputElement.value;">
    <p class="js-message-live"></p>

    <!-- 9i: Cart Quantity -->
    <button onclick="displayCartQuantity();">Show Quantity</button>
    <button onclick="updateCartQuantity(1);">Add to Cart</button>
    <button onclick="updateCartQuantity(2);">+2</button>
    <button onclick="updateCartQuantity(3);">+3</button>
    <button onclick="updateCartQuantity(4);">+4</button>
    <button onclick="updateCartQuantity(5);">+5</button>
    <button onclick="updateCartQuantity(-1);">Remove from cart</button>
    <button onclick="updateCartQuantity(-2);">-2</button>
    <button onclick="updateCartQuantity(-3);">-3</button>
    <button onclick="cartQuantity = 0; console.log('Cart was reset.'); displayCartQuantity();">Reset Cart</button>
    <p class="js-cart-quantity"></p>
    <script>
      let cartQuantity = 0;
      displayCartQuantity();
      function updateCartQuantity(change) {
        if (cartQuantity + change > 10) {
          alert('The cart is full');
          return;
        }
        if (cartQuantity + change < 0) {
          alert('Not enough items in the cart');
          return;
        }
        cartQuantity += change;
        displayCartQuantity();
      }
      function displayCartQuantity() {
        document.querySelector('.js-cart-quantity').innerHTML = `Cart quantity: ${cartQuantity}`;
      }
    </script>

    <!-- 9j: Calculator -->
    <p class="js-calculation"></p>
    <p>
      <button onclick="updateCalculation('1');">1</button>
      <button onclick="updateCalculation('2');">2</button>
      <button onclick="updateCalculation('3');">3</button>
      <button onclick="updateCalculation(' + ');">+</button>
    </p>
    <p>
      <button onclick="updateCalculation('4');">4</button>
      <button onclick="updateCalculation('5');">5</button>
      <button onclick="updateCalculation('6');">6</button>
      <button onclick="updateCalculation(' - ');">-</button>
    </p>
    <p>
      <button onclick="updateCalculation('7');">7</button>
      <button onclick="updateCalculation('8');">8</button>
      <button onclick="updateCalculation('9');">9</button>
      <button onclick="updateCalculation(' * ');">*</button>
    </p>
    <p>
      <button onclick="updateCalculation('0');">0</button>
      <button onclick="updateCalculation('.');">.</button>
  <button onclick="try { calculation = eval(calculation); if (isNaN(calculation) || calculation === undefined || calculation === null) { calculation = 'Error'; } } catch (e) { calculation = 'Error'; } displayCalculation(); localStorage.setItem('calculation', calculation);">=</button>
      <button onclick="updateCalculation(' / ');">/</button>
    </p>
    <p>
      <button onclick="calculation = ''; displayCalculation(); localStorage.setItem('calculation', calculation);">Clear</button>
    </p>
    <script>
      let calculation = localStorage.getItem('calculation') || '';
      displayCalculation();
      function updateCalculation(value) {
        calculation += value;
        displayCalculation();
        localStorage.setItem('calculation', calculation);
      }
      function displayCalculation() {
        document.querySelector('.js-calculation').innerHTML = calculation;
      }
    </script>
  </body>
</html>
